
<style>
.btn-outline-primary{color:#007bff;border-color:#007bff}
.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}
.btn-outline-primary.focus,.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}
.btn-outline-primary.disabled,.btn-outline-primary:disabled{color:#007bff;background-color:transparent}
.btn-outline-primary:not(:disabled):not(.disabled).active,.btn-outline-primary:not(:disabled):not(.disabled):active,.show>.btn-outline-primary.dropdown-toggle{color:#fff;background-color:#007bff;border-color:#007bff}
.btn-outline-primary:not(:disabled):not(.disabled).active:focus,.btn-outline-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}
.btn-outline-secondary{color:#6c757d;border-color:#6c757d}.btn-outline-secondary:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary.focus,.btn-outline-secondary:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-secondary.disabled,.btn-outline-secondary:disabled{color:#6c757d;background-color:transparent}.btn-outline-secondary:not(:disabled):not(.disabled).active,.btn-outline-secondary:not(:disabled):not(.disabled):active,.show>.btn-outline-secondary.dropdown-toggle{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary:not(:disabled):not(.disabled).active:focus,.btn-outline-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-success{color:#28a745;border-color:#28a745}.btn-outline-success:hover{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success.focus,.btn-outline-success:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-success.disabled,.btn-outline-success:disabled{color:#28a745;background-color:transparent}.btn-outline-success:not(:disabled):not(.disabled).active,.btn-outline-success:not(:disabled):not(.disabled):active,.show>.btn-outline-success.dropdown-toggle{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success:not(:disabled):not(.disabled).active:focus,.btn-outline-success:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-info{color:#17a2b8;border-color:#17a2b8}.btn-outline-info:hover{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info.focus,.btn-outline-info:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-info.disabled,.btn-outline-info:disabled{color:#17a2b8;background-color:transparent}.btn-outline-info:not(:disabled):not(.disabled).active,.btn-outline-info:not(:disabled):not(.disabled):active,.show>.btn-outline-info.dropdown-toggle{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info:not(:disabled):not(.disabled).active:focus,.btn-outline-info:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning.focus,.btn-outline-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-warning.disabled,.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-warning:not(:disabled):not(.disabled).active,.btn-outline-warning:not(:disabled):not(.disabled):active,.show>.btn-outline-warning.dropdown-toggle{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:not(:disabled):not(.disabled).active:focus,.btn-outline-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-danger{color:#dc3545;border-color:#dc3545}.btn-outline-danger:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger.focus,.btn-outline-danger:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-danger.disabled,.btn-outline-danger:disabled{color:#dc3545;background-color:transparent}.btn-outline-danger:not(:disabled):not(.disabled).active,.btn-outline-danger:not(:disabled):not(.disabled):active,.show>.btn-outline-danger.dropdown-toggle{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger:not(:disabled):not(.disabled).active:focus,.btn-outline-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light.focus,.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light.disabled,.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-light:not(:disabled):not(.disabled).active,.btn-outline-light:not(:disabled):not(.disabled):active,.show>.btn-outline-light.dropdown-toggle{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:not(:disabled):not(.disabled).active:focus,.btn-outline-light:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark.focus,.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark.disabled,.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-outline-dark:not(:disabled):not(.disabled).active,.btn-outline-dark:not(:disabled):not(.disabled):active,.show>.btn-outline-dark.dropdown-toggle{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:not(:disabled):not(.disabled).active:focus,.btn-outline-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}
</style>

<!--<form name ="mon_alerts_frm" id="mon_alerts_frm" action="" method="POST"  class="form-horizontal">
	<div class="alert hidden alert-dismissable" id="msg_div_pop"></div>
		<input type="hidden" name="action" value="">
<div class="topbar-right">
	<ul class="nav navbar-nav navbar-right">
		<li class="dropdown dropdown-item-slide  p5 mr5">
			<span title="Acknowledge" data-value="ack" class="alrtaction fa fa-thumbs-up fa-2x"></span>
		</li>
		<li class="dropdown dropdown-item-slide  p5 mr5">
			<span title="Unacknowledge" data-value="unack" class="alrtaction fa fa-thumbs-o-up fa-2x"></span>
		</li>
		<li class="dropdown dropdown-item-slide-note p5 mr5">
			<span title="Note" data-value="note" class=" alrtaction fa fa-pencil-square-o fa-2x"></span>
			<ul class="dropdown-menu dropdown-hover pn w450 bg-white animated animated-shorter fadeIn" role="menu">
				<li class="bg-light p8">
					<span class="fw600 pl5 lh30">Add Settings Template</span>
				</li>
				<li class="p8">
					<div class="form-group">
						<label for="Description" class="col-md-3 control-label">Add Note</label>
						<div class="col-md-9">
							<textarea id="description" name="description" class="form-control input-sm"></textarea>
						</div>
					</div>
					<div class="form-group">
						<label class="col-md-3 control-label"></label>
						<div class="col-xs-3">
							<button id="submit_note" type="button" class="btn btn-success btn-block">Submit</button>
						</div>
				   </div>
				</li>
			</ul>
		</li>

	</ul>

</div>
<style>
	.fa-2x{
		font-size:1.5em
	}
</style>-->
<link rel="stylesheet" type="text/css" href="enlight/scripts/formeo-master/css/demo.css">
  <!--<div class="site-wrap">
    <section id="main_content" class="inner">
      <form id="build-form" class="build-form clearfix"></form>
      <div class="render-form"></div>
    </section>
    <div class="render-btn-wrap">
      <button id="renderForm" class="btn btn-outline-primary">Preview Form</button>
      <button id="viewData" class="btn btn-outline-success">console.log Data</button>
      <button id="reloadBtn" class="btn btn-outline-danger">Reset Editor</button>
      <button id="setDataBtn" class="btn btn-default">Set Data</button>


    </div>
    <div class="panel-footer">
        <button type="submit" class="button btn-primary">Submit</button>
    </div>

  </div>-->

<div class="row" id="credentialform">
    <div class="col-md-10">
        <!--<div class="alert hidden alert-dismissable" id="msg_popup"></div>-->
        <div class="hidden alert-dismissable" id="msg_popup"></div>
    </div>
    <div class="col-md-12">
        <div class="panel panel-visible">
            <div class="panel-body">
                <?php //echo "----"; print_r($form_templ_data); ?>
            <!--<form class="form-horizontal" role="form" name="credentialaddform" id="credentialaddform">-->
            <input id="form_templ_id" name="form_templ_id" type="hidden" value="<?php echo $form_templ_id; ?>">
            <input id="action" name="action" type="hidden" value="<?php echo $action; ?>">
            <div class="col-md-6">
                <div class="form-group required clearfix ">                    
                        <label for="template_title" class="col-md-3 control-label">Template Title</label>
                        <div class="col-md-9">
                        <input class="form-control input-sm" placeholder="" name="template_title" value="<?php echo isset($form_templ_data['template_title']) ? $form_templ_data['template_title'] : ""; ?>" type="text" id="template_title">
                        </div>                  
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group required clearfix ">
                    <label for="template_name" class="col-md-3 control-label">Template Name</label>
                    <div class="col-md-9">
                        <input class="form-control input-sm" disabled placeholder="" name="template_name" value="<?php echo isset($form_templ_data['template_name']) ? $form_templ_data['template_name'] : ""; ?>" type="text" id="template_name">
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group required clearfix ">
                    <label for="type" class="col-md-3 control-label">Type</label>
                    <div class="col-md-9">
                        <select  class="form-control input-sm"  name="type"  id="type">
                            <option value="">[Select Default Template]</option>
                            <option value="po" <?php echo isset($form_templ_data['type']) && $form_templ_data['type'] == 'po' ? "selected" : ""; ?>>PO</option>
                            <option value="warrenty" <?php echo isset($form_templ_data['type']) && $form_templ_data['type'] == 'warrenty' ? "selected" : ""; ?>>Warrenty</option>
                            <option value="service" <?php echo isset($form_templ_data['type']) && $form_templ_data['type'] == 'service' ? "selected" : ""; ?>>Service</option>
                            <option value="cr" <?php echo isset($form_templ_data['type']) && $form_templ_data['type'] == 'cr' ? "selected" : ""; ?>>CR</option>
                            <option value="incident" <?php echo isset($form_templ_data['type']) && $form_templ_data['type'] == 'incident' ? "selected" : ""; ?>>Incident</option>
                            <option value="problem" <?php echo isset($form_templ_data['type']) && $form_templ_data['type'] == 'problem' ? "selected" : ""; ?>>Problem</option>
                            <option value="config" <?php echo isset($form_templ_data['type']) && $form_templ_data['type'] == 'config' ? "selected" : ""; ?>>Config</option>
                            <option value="credentials" <?php echo isset($form_templ_data['type']) && $form_templ_data['type'] == 'credentials' ? "selected" : ""; ?>>Credentials</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group required clearfix ">
                    <label for="default_template" class="col-md-3 control-label">Default Template</label>
                    <div class="col-md-9">
                        <select  class="form-control input-sm"  name="default_template"  id="default_template">
                            <option value="y"  <?php echo isset($form_templ_data['default_template']) && $form_templ_data['default_template'] == 'y' ? "selected" : ""; ?>>Yes</option>
                            <option value="n" <?php echo isset($form_templ_data['default_template']) && $form_templ_data['default_template'] == 'n' ? "selected" : ""; ?>>No</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="form-group required clearfix">
                <label class="col-md-12 control-label">Generate Template</label>
                <section id="main_content" class="inner">
                    <form id="build-form" class="build-form clearfix"></form>
                    <div class="render-form"></div>
                </section>
                <div class="render-btn-wrap">
                    <button id="renderForm" class="btn btn-outline-primary">Preview Form</button>
                    <button id="viewData" class="btn btn-outline-success">Generate JSON Data</button>
                    <button id="reloadBtn" class="btn btn-outline-danger">Reset Editor</button>
                    </div>
                    <textarea disabled="" style="display:none" class="form-control input-sm details" placeholder="" name="details" id="details"><?php echo isset($form_templ_data['details']) ? $form_templ_data['details'] : ""; ?></textarea>

            </div>
            <div class="col-md-6">
                <div class="form-group required clearfix ">
                    <label for="description" class="col-md-12 control-label">Description</label>
                    <div class="col-md-12">
                        <textarea class="form-control input-sm" placeholder="" name="description" id="description"><?php echo isset($form_templ_data['description']) ? $form_templ_data['description'] : ""; ?></textarea>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group clearfix">
                    <label for="description" class="col-md-12 control-label">Generated JSON [Note: Click on Generate JSON]</label>
                    <div class="col-md-12">
                            <textarea disabled="" class="form-control input-sm details" placeholder=""   id="details"><?php echo isset($form_templ_data['details']) ? $form_templ_data['details'] : ""; ?></textarea>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-3 control-label"></label>
                <div class="col-xs-2">
                    <button id="credentialsubmit" type="button" class="btn btn-success btn-block"><?php echo $action == "add" ? "Submit" : "Update"; ?></button>
                </div>
                <div class="col-xs-2">
                    <button id="credentialaddsubmit_reset" type="button" class="btn btn-info btn-block">Reset</button>
                </div>
            </div>

                <!--</form>-->
            </div><!--panel-body -->
        </div><!--panel panel-visible-->
  </div><!--col-md-12-->
</div> <!-- row-->




<script language="javascript" type="text/javascript" src="<?php echo config('app.site_url'); ?>/enlight/scripts/formeo-master/formeo.min.js"></script>

<script language="javascript" type="text/javascript" src="<?php echo config('app.site_url'); ?>/enlight/scripts/formeo-master/js/demo.js"></script>


<script>
$(document).ready(function()
{
    var jsonDataAsString = '<?php echo isset($form_templ_data['details']) ? $form_templ_data['details'] : ""; ?>';
    if(jsonDataAsString!="")
    {
        setDataedit(jsonDataAsString);
    }
});

 function setDataedit(jsonDataAsString){
    let container = document.querySelector('#build-form');
  //alert("set...");
  var  formeoOpts = {
    container: container,
    i18n: {
      preloaded: {
        'en-US': {'row.makeInputGroup': ' Repeatable Region'}
      }
    },
    allowEdit: true,
    controls: {
      sortable: false,
      groupOrder: [
        'common',
        'html',
      ],
      elements: [
      ],
      elementOrder: {
        common: [
        'button',
        'checkbox',
        'date-input',
        'hidden',
        'upload',
        'number',
        'radio',
        'select',
        'text-input',
        'textarea',
        ]
      }
    },
    events: {
      // onUpdate: console.log,
      // onSave: console.log
    },
    svgSprite: "<?php echo config('app.site_url'); ?>/enlight/scripts/formeo-master/img/formeo-sprite.svg",
    // debug: true,
    sessionStorage: false,
    editPanelOrder: ['attrs', 'options']
  };


  //let opts = $.extend({},formeoOptions);
  formeo = new window.Formeo(formeoOpts, jsonDataAsString);
};
</script>
